---
interface Props {
  projet: any;
  imageUrl: string | null;
}

const { projet, imageUrl } = Astro.props;

const titre = projet?.titre ?? 'INKSPIRE';
const description = (projet?.description ?? '').split('\n');
const couleurs = (projet?.couleurs ?? '').split('\n');
const typographie = (projet?.typographie ?? '').split('\n');
const credits = (projet?.credits ?? '').split('\n');
---

<main
  class="grid h-full w-full grid-cols-2 grid-rows-2 gap-6 lg:gap-5 md:gap-4"
>
  <!-- INKSPIRE -->
  <article
    class="relative flex min-h-0 flex-col bg-[#111b9f] text-white shadow-[0_0_0_3px_#fff,4px_4px_0_0_rgba(0,0,0,0.55)] outline outline-4 outline-[#111b9f]"
  >
    <div class="pointer-events-none absolute inset-[8px] border-[3px] border-white"></div>

    <div class="relative z-[1] flex h-full flex-col gap-2 px-6 py-5 lg:px-5 lg:py-4 md:px-4 md:py-3">
      <div class="flex flex-col gap-1">
        <h2
          class="font-['Press_Start_2P',monospace] text-[0.8rem] tracking-[0.12em] uppercase lg:text-[0.75rem] md:text-[0.7rem]"
        >
          {titre}
        </h2>
        <p class="text-[0.7rem] text-[#dcdcff] md:text-[0.6rem]">
          Plateforme de tatouage par IA
        </p>
      </div>

      <div
        class="mt-1 flex max-h-[48%] flex-shrink overflow-hidden rounded-sm bg-[#05060f]"
      >
        {imageUrl ? (
          <img
            src={imageUrl}
            alt={titre}
            class="h-full w-full object-contain"
          />
        ) : (
          <div class="flex w-full items-center justify-center px-4 py-6 text-center text-[0.7rem] text-gray-300 md:text-[0.6rem]">
            Mockup à venir
          </div>
        )}
      </div>

      <div
        class="mt-2 flex min-h-0 flex-1 flex-col overflow-hidden text-[0.7rem] leading-snug text-[#f5f5ff] lg:text-[0.65rem] md:text-[0.6rem]"
      >
        {description.map(
          (p: string) =>
            p && <p class="mb-1 last:mb-0">{p}</p>
        )}
      </div>
    </div>
  </article>

  <!-- HARMONIE COLORÉE -->
  <article
    class="relative flex min-h-0 flex-col bg-[#111b9f] text-white shadow-[0_0_0_3px_#fff,4px_4px_0_0_rgba(0,0,0,0.55)] outline outline-4 outline-[#111b9f]"
  >
    <div class="pointer-events-none absolute inset-[8px] border-[3px] border-white"></div>

    <div class="relative z-[1] flex h-full flex-col gap-3 px-6 py-5 lg:px-5 lg:py-4 md:px-4 md:py-3">
      <h2
        class="font-['Press_Start_2P',monospace] text-[0.8rem] tracking-[0.12em] uppercase lg:text-[0.75rem] md:text-[0.7rem]"
      >
        Harmonie colorée
      </h2>

      <div class="flex items-center gap-3 py-1 md:gap-2">
        <div class="h-12 w-12 rounded-full border-[3px] border-white bg-[#111111] md:h-10 md:w-10"></div>
        <div class="h-12 w-12 rounded-full border-[3px] border-white bg-[#333333] md:h-10 md:w-10"></div>
        <div class="h-12 w-12 rounded-full border-[3px] border-white bg-[#777777] md:h-10 md:w-10"></div>
        <div class="h-12 w-12 rounded-full border-[3px] border-white bg-[#f5f5f5] md:h-10 md:w-10"></div>
      </div>

      <div
        class="flex min-h-0 flex-1 flex-col overflow-hidden text-[0.7rem] leading-snug text-[#f5f5ff] lg:text-[0.65rem] md:text-[0.6rem]"
      >
        {couleurs.map(
          (p: string) =>
            p && <p class="mb-1 last:mb-0">{p}</p>
        )}
      </div>
    </div>
  </article>

  <!-- TYPOGRAPHIE -->
  <article
    class="relative flex min-h-0 flex-col bg-[#111b9f] text-white shadow-[0_0_0_3px_#fff,4px_4px_0_0_rgba(0,0,0,0.55)] outline outline-4 outline-[#111b9f]"
  >
    <div class="pointer-events-none absolute inset-[8px] border-[3px] border-white"></div>

    <div class="relative z-[1] flex h-full flex-col gap-3 px-6 py-5 lg:px-5 lg:py-4 md:px-4 md:py-3">
      <h2
        class="font-['Press_Start_2P',monospace] text-[0.8rem] tracking-[0.12em] uppercase lg:text-[0.75rem] md:text-[0.7rem]"
      >
        Typographie
      </h2>

      <div class="flex flex-col gap-2">
        <div>
          <span class="mb-1 block text-[0.8rem] font-semibold md:text-[0.75rem]">
            Montserrat Alternates
          </span>
          <div class="flex gap-4 text-[0.75rem] md:text-[0.65rem]">
            <span class="font-bold">Bold</span>
            <span class="font-medium">Medium</span>
          </div>
        </div>

        <div class="text-left">
          <span
            class="font-['Press_Start_2P',monospace] text-[1.1rem] lg:text-base md:text-sm"
          >
            NOSIFER
          </span>
        </div>
      </div>

      <div
        class="mt-2 flex min-h-0 flex-1 flex-col overflow-hidden text-[0.7rem] leading-snug text-[#f5f5ff] lg:text-[0.65rem] md:text-[0.6rem]"
      >
        {typographie.map(
          (p: string) =>
            p && <p class="mb-1 last:mb-0">{p}</p>
        )}
      </div>
    </div>
  </article>

  <!-- CRÉDITS -->
  <article
    class="relative flex min-h-0 flex-col bg-[#111b9f] text-white shadow-[0_0_0_3px_#fff,4px_4px_0_0_rgba(0,0,0,0.55)] outline outline-4 outline-[#111b9f]"
  >
    <div class="pointer-events-none absolute inset-[8px] border-[3px] border-white"></div>

    <div class="relative z-[1] flex h-full flex-col px-6 py-5 lg:px-5 lg:py-4 md:px-4 md:py-3">
      <h2
        class="mb-2 font-['Press_Start_2P',monospace] text-[0.8rem] tracking-[0.12em] uppercase lg:text-[0.75rem] md:text-[0.7rem]"
      >
        Crédits
      </h2>

      <div
        class="flex min-h-0 flex-1 flex-col overflow-hidden text-[0.7rem] leading-snug text-[#f5f5ff] lg:text-[0.65rem] md:text-[0.6rem]"
      >
        {credits.map(
          (p: string) =>
            p && <p class="mb-1 last:mb-0">{p}</p>
        )}
      </div>

      <div
        class="mt-3 flex items-center justify-between border-t border-white/50 pt-3"
      >
        <div
          class="flex h-12 w-12 items-center justify-center rounded-full border-[3px] border-[#522546] bg-white md:h-11 md:w-11"
        >
          <img
            src="/manolia.svg"
            alt="Manolia"
            class="h-full w-full rounded-full object-cover"
          />
        </div>

        <button
          class="inline-flex items-center gap-2 border-4 border-white bg-white px-3 py-2 text-[0.55rem] uppercase tracking-[0.08em] text-[#141a7b] shadow-[3px_3px_0_0_#141a7b] transition-transform md:text-[0.5rem]"
        >
          <span class="font-['Press_Start_2P',monospace]">Voir le projet</span>
          <svg
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            class="shrink-0"
          >
            <path
              d="M5 12h14M12 5l7 7-7 7"
              stroke-width="2"
              stroke-linecap="round"
            />
          </svg>
        </button>
      </div>
    </div>
  </article>
</main>
